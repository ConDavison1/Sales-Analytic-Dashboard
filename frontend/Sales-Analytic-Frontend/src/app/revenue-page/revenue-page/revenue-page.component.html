<div class="container">
  <app-sidebar></app-sidebar>
  <div class="main-content">
    <div class="revenue">
      <app-header></app-header>

      <!-- Revenue Target Cards -->
      <div class="cards" *ngIf="isDataLoaded && cards.length > 0">
        <div *ngFor="let card of cards" class="card">
          <h3>{{ card.title }}</h3>
          <p>{{ card.value }}</p>
          <span>{{ card.percentage }}</span>
        </div>
      </div>

      <!-- Revenue Table -->
      <div class="table-container" *ngIf="isDataLoaded && revenueData.length > 0">
        <h2 class="text-xl font-semibold mb-4">Revenue Records</h2>
        <table class="scrollable-table">
          <thead>
            <tr>
              <th>Client</th>
              <th>Product Name</th>
              <th>Product Category</th>
              <th>Total ($)</th>
              <th>Month</th>
              <th>Quarter</th>
              <th>Year</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let row of revenueData">
              <td>{{ row.client_name }}</td>
              <td>{{ row.product_name }}</td>
              <td>{{ row.product_category }}</td>
              <td>{{ row.amount | currency }}</td>
              <td>{{ row.month }}</td>
              <td>{{ row.fiscal_quarter }}</td>
              <td>{{ row.fiscal_year }}</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Product Distribution Chart -->
      <div class="chart-container" *ngIf="isDataLoaded && barChart.series.length > 0">

        <h3>Product Distribution</h3>
        <apx-chart
          #barChartRef
          [series]="barChart.series"
          [chart]="barChart.chart"
          [xaxis]="barChart.xaxis"
          [plotOptions]="barChart.plotOptions"
          [dataLabels]="barChart.dataLabels"
          [colors]="barChart.colors"
        >
        </apx-chart>
      </div>

      <!-- Industry Revenue -->
      <div class="chart-container" *ngIf="isDataLoaded && areaChart && areaChart.series && areaChart.series.length > 0">
        <h3>Revenue by Industry (Quarter)</h3>
        <apx-chart
          #areaChartRef
          [series]="areaChart.series"
          [chart]="areaChart.chart"
          [xaxis]="areaChart.xaxis"
          [stroke]="areaChart.stroke"
          [fill]="areaChart.fill"
          [dataLabels]="areaChart.dataLabels"
          [colors]="areaChart.colors"
        >
        </apx-chart>
      </div>
    </div>
  </div>
</div>
